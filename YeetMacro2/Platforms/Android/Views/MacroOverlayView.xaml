<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:v="clr-namespace:YeetMacro2.Views"
             xmlns:vm="clr-namespace:YeetMacro2.ViewModels"
             xmlns:pvm="clr-namespace:YeetMacro2.Platforms.Android.ViewModels"
             xmlns:conv="clr-namespace:YeetMacro2.Converters"
             xmlns:av="clr-namespace:YeetMacro2.Platforms.Android.Views"
             x:DataType="pvm:AndriodHomeViewModel"
             vm:ViewModelLocator.ViewModelType="{x:Type pvm:AndriodHomeViewModel}"
             xmlns:fa="clr-namespace:UraniumUI.Icons.FontAwesome;assembly=UraniumUI.Icons.FontAwesome"
             xmlns:mi="clr-namespace:UraniumUI.Icons.MaterialIcons;assembly=UraniumUI.Icons.MaterialIcons"
             x:Class="YeetMacro2.Platforms.Android.Views.MacroOverlayView"
             HeightRequest="100">
    <Grid Padding="0,30,0,0">
        <VerticalStackLayout>
            <HorizontalStackLayout Spacing="5">
                <v:ImageView FontFamily="MaterialOutlined" Glyph="{x:Static mi:MaterialOutlined.Branding_watermark}" Color="LightGray"
                                                 Command="{Binding ToggleProjectionServiceCommand}">
                    <v:ImageView.Triggers>
                        <DataTrigger TargetType="{x:Type v:ImageView}" Binding="{Binding IsProjectionServiceEnabled}" Value="True">
                            <Setter Property="Color" Value="Green" />
                        </DataTrigger>
                    </v:ImageView.Triggers>
                </v:ImageView>
                <v:ImageView FontFamily="MaterialOutlined" Glyph="{x:Static mi:MaterialOutlined.Touch_app}" Color="LightGray"
                                                 Command="{Binding ToggleAccessibilityPermissionsCommand}">
                    <v:ImageView.Triggers>
                        <DataTrigger TargetType="{x:Type v:ImageView}" Binding="{Binding IsAccessibilityEnabled}" Value="True">
                            <Setter Property="Color" Value="Green" />
                        </DataTrigger>
                    </v:ImageView.Triggers>
                </v:ImageView>
                <v:ImageView FontFamily="FASolid" Glyph="{x:Static fa:Solid.Terminal}" Color="LightGray"
                                                 Command="{Binding MacroManagerViewModel.ToggleShowLogViewCommand}">
                    <v:ImageView.Triggers>
                        <DataTrigger TargetType="{x:Type v:ImageView}" Binding="{Binding MacroManagerViewModel.ShowLogView}" Value="True">
                            <Setter Property="Color" Value="Green" />
                        </DataTrigger>
                    </v:ImageView.Triggers>
                </v:ImageView>
                <v:ImageView FontFamily="MaterialOutlined" Glyph="{x:Static mi:MaterialOutlined.Filter_center_focus}"  Color="LightGray"
                                                 Command="{Binding MacroManagerViewModel.ToggleInDebugModeCommand}">
                    <v:ImageView.Triggers>
                        <DataTrigger TargetType="{x:Type v:ImageView}" Binding="{Binding MacroManagerViewModel.InDebugMode}" Value="True">
                            <Setter Property="Color" Value="Green" />
                        </DataTrigger>
                    </v:ImageView.Triggers>
                </v:ImageView>
            </HorizontalStackLayout>
            <Label Text="{Binding CurrentPackage, StringFormat='Current Package: {0}'}" TextColor="{StaticResource Primary}" />
        </VerticalStackLayout>
        <v:ImageView HorizontalOptions="End" VerticalOptions="Start" FontFamily="FASolid" Glyph="{x:Static fa:Solid.x}" Color="Red"
                                                 Command="{Binding CloseMacroOverlayCommand}" />
    </Grid>
</ContentView>
